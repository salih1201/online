<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุฒุงูุฏุฉ ูุฐูุงุก - ูุนุจุฉ ูุงุนุจูู</title>
    <meta name="description"
        content="ูุฒุงูุฏุฉ ูุฐูุงุก - ูุนุจุฉ ูุนูููุงุช ุงุณุชุฑุงุชูุฌูุฉ ุญูุซ ุชุฒุงูุฏ ุจุงูููุช ููุฅุฌุงุจุฉ ุนูู ุงูุฃุณุฆูุฉ. ุชุญุฏูู ูุนูููุงุชู ูุงุณุชุฑุงุชูุฌูุชู!">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <script src="questions.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="app">
        <!-- ุดุงุดุฉ ุงูุฑุฏูุฉ ุฃูููุงูู -->
        <div id="lobby-screen" class="screen active">
            <div class="lobby-container">
                <header class="lobby-header">
                    <div class="logo-large">
                        <span class="logo-icon">๐ง</span>
                        <h1>ูุฒุงูุฏุฉ ูุฐูุงุก</h1>
                        <span class="beta-badge">ุฃูููุงูู</span>
                    </div>
                </header>

                <main class="lobby-main">
                    <!-- ูุณู ุงููุงุนุจ -->
                    <div class="player-setup-card">
                        <h3>ุจูุงูุงุชู</h3>
                        <div class="avatar-selector">
                            <img id="my-avatar" src="https://api.dicebear.com/7.x/avataaars/svg?seed=p1" alt="ุตูุฑุชู"
                                class="avatar-preview">
                            <button class="btn-icon" onclick="changeMyAvatar()">
                                <span class="material-icons">refresh</span>
                            </button>
                        </div>
                        <input type="text" id="my-name" class="name-input" placeholder="ุงูุชุจ ุงุณูู ููุง..."
                            maxlength="15">
                        <p class="status-text" id="connection-status">ุฌุงุฑู ุงูุงุชุตุงู ุจุงูุณูุฑูุฑ...</p>
                    </div>

                    <div class="game-modes-grid">
                        <!-- ูุถุน ุงูุงุณุชุถุงูุฉ -->
                        <div class="mode-card host-mode">
                            <div class="mode-icon">
                                <span class="material-icons">add_box</span>
                            </div>
                            <h2>ุฅูุดุงุก ูุนุจุฉ</h2>
                            <p>ุฃูุดุฆ ุบุฑูุฉ ูุฃุฑุณู ุงูุฑูุฒ ูุตุฏููู</p>

                            <div class="settings-mini">
                                <select id="rounds-select">
                                    <option value="5">ูฅ ุฌููุงุช</option>
                                    <option value="10" selected>ูกู ุฌููุงุช</option>
                                    <option value="15">ูกูฅ ุฌููุฉ</option>
                                </select>
                            </div>

                            <button class="btn-primary" id="btn-host" onclick="hostGame()" disabled>
                                ุฅูุดุงุก ุบุฑูุฉ
                            </button>

                            <div id="host-info" class="host-info hidden">
                                <p>ุดุงุฑู ูุฐุง ุงูุฑูุฒ ูุน ุตุฏููู:</p>
                                <div class="room-code-display">
                                    <span id="room-code">...</span>
                                    <button class="btn-copy" onclick="copyRoomCode()">
                                        <span class="material-icons">content_copy</span>
                                    </button>
                                </div>
                                <p class="waiting-text">
                                    <span class="material-icons spin">sync</span>
                                    ุจุงูุชุธุงุฑ ุงูุถูุงู ุตุฏููู...
                                </p>
                            </div>
                        </div>

                        <!-- ูุงุตู -->
                        <div class="divider">
                            <span>ุฃู</span>
                        </div>

                        <!-- ูุถุน ุงูุงูุถูุงู -->
                        <div class="mode-card join-mode">
                            <div class="mode-icon">
                                <span class="material-icons">login</span>
                            </div>
                            <h2>ุงูุถูุงู ููุนุจุฉ</h2>
                            <p>ุฃุฏุฎู ุฑูุฒ ุงูุบุฑูุฉ ูู ุตุฏููู</p>

                            <div class="join-input-group">
                                <input type="text" id="join-code-input" placeholder="ุฃุฏุฎู ุฑูุฒ ุงูุบุฑูุฉ ููุง">
                            </div>

                            <button class="btn-secondary" id="btn-join" onclick="joinGame()" disabled>
                                ุงูุถูุงู
                            </button>
                        </div>
                    </div>
                </main>
            </div>
        </div>

        <!-- ุดุงุดุฉ ุงููุฒุงูุฏุฉ -->
        <div id="bidding-screen" class="screen">
            <header class="game-header">
                <div class="logo">
                    <span class="logo-icon">๐ง</span>
                    <h1>ูุฒุงูุฏุฉ ูุฐูุงุก</h1>
                </div>
                <div class="round-info">
                    <span class="round-number" id="round-display">ุงูุฌููุฉ ูก/ูกู</span>
                </div>
                <div class="scores-header">
                    <div class="score-badge player1-score">
                        <span id="header-player1-name">ุงููุงุนุจ ูก</span>
                        <span id="header-player1-score">ู</span>
                    </div>
                    <div class="score-badge player2-score">
                        <span id="header-player2-name">ุงููุงุนุจ ูข</span>
                        <span id="header-player2-score">ู</span>
                    </div>
                </div>
            </header>

            <main class="bidding-main">
                <div class="category-banner">
                    <h2 id="category-title">ุนููู ุงููุถุงุก</h2>
                    <p class="bidding-rule">ูู ูุฒุงูุฏ ุจุฃูู ููุช ูุฌูุจ ุฃููุงู!</p>
                </div>

                <div class="two-player-bidding">
                    <!-- ุงููุงุนุจ ุงูุฃูู -->
                    <div class="player-bid-card" id="player1-bid-card">
                        <img id="bidding-avatar1" src="https://api.dicebear.com/7.x/avataaars/svg?seed=player1"
                            alt="ุงููุงุนุจ ูก" class="bidding-avatar">
                        <span class="bidding-player-name" id="bidding-player1-name">ุงููุงุนุจ ูก</span>
                        <div class="bid-input-container">
                            <span class="bid-label">ูุฒุงูุฏุชู</span>
                            <input type="range" id="bid-slider-1" min="3" max="30" value="15" class="bid-slider"
                                oninput="updateBid(1)">
                            <span class="bid-display" id="bid-display-1">ูกูฅุซ</span>
                        </div>
                        <button class="btn-lock-bid" id="lock-btn-1" onclick="lockBid(1)">
                            <span class="material-icons">lock</span>
                            ุชุฃููุฏ
                        </button>
                    </div>

                    <div class="vs-circle">
                        <span>VS</span>
                    </div>

                    <!-- ุงููุงุนุจ ุงูุซุงูู -->
                    <div class="player-bid-card" id="player2-bid-card">
                        <img id="bidding-avatar2" src="https://api.dicebear.com/7.x/avataaars/svg?seed=player2"
                            alt="ุงููุงุนุจ ูข" class="bidding-avatar">
                        <span class="bidding-player-name" id="bidding-player2-name">ุงููุงุนุจ ูข</span>
                        <div class="bid-input-container">
                            <span class="bid-label">ูุฒุงูุฏุชู</span>
                            <input type="range" id="bid-slider-2" min="3" max="30" value="15" class="bid-slider"
                                oninput="updateBid(2)">
                            <span class="bid-display" id="bid-display-2">ูกูฅุซ</span>
                        </div>
                        <button class="btn-lock-bid" id="lock-btn-2" onclick="lockBid(2)">
                            <span class="material-icons">lock</span>
                            ุชุฃููุฏ
                        </button>
                    </div>
                </div>

                <div class="bidding-timer">
                    <span class="timer-label">ููุช ุงููุฒุงูุฏุฉ:</span>
                    <span class="timer-value" id="bidding-timer">ูขู</span>
                </div>

                <p class="bidding-hint">๐ก ูุตูุญุฉ: ุฃุฎูู ุดุงุดุชู ุนู ุตุฏููู ุฃุซูุงุก ุงููุฒุงูุฏุฉ!</p>
            </main>
        </div>

        <!-- ุดุงุดุฉ ุงูุฅุฌุงุจุฉ -->
        <div id="execution-screen" class="screen">
            <header class="game-header compact">
                <div class="logo small">
                    <span class="logo-icon">๐ง</span>
                    <h1>ูุฒุงูุฏุฉ ูุฐูุงุก</h1>
                </div>
                <div class="scores-header">
                    <div class="score-badge player1-score">
                        <span id="exec-player1-name">ุงููุงุนุจ ูก</span>
                        <span id="exec-player1-score">ู</span>
                    </div>
                    <div class="score-badge player2-score">
                        <span id="exec-player2-name">ุงููุงุนุจ ูข</span>
                        <span id="exec-player2-score">ู</span>
                    </div>
                </div>
            </header>

            <main class="execution-main">
                <div class="stage-header">
                    <h2 id="answering-player-title">ุฏูุฑ ุงููุงุนุจ ูก</h2>
                </div>

                <div class="player-status-bar">
                    <div class="player-info-execution">
                        <img id="answering-avatar" src="https://api.dicebear.com/7.x/avataaars/svg?seed=player1"
                            alt="ุงููุงุนุจ" class="execution-avatar">
                        <div class="execution-info">
                            <span class="execution-name" id="answering-name">ุงููุงุนุจ ูก</span>
                            <span class="execution-bid" id="answering-bid">ุงููุฒุงูุฏุฉ: ูกูฅุซ</span>
                        </div>
                    </div>
                    <div class="time-remaining">
                        <span class="time-label">ุงูููุช ุงููุชุจูู</span>
                        <div class="timer-display">
                            <span class="timer-number" id="answer-timer">ูกูฅ.ู</span>
                            <span class="timer-unit">ุซุงููุฉ</span>
                        </div>
                    </div>
                </div>

                <div class="question-container">
                    <div class="question-card">
                        <p class="question-text" id="question-text">ุฃู ูููุจ ูู ูุธุงููุง ุงูุดูุณู ููุนุฑู ุจุงููููุจ ุงูุฃุญูุฑุ</p>
                    </div>

                    <div class="answers-grid" id="answers-container">
                        <button class="answer-btn" onclick="selectAnswer(this, 0)">
                            <span class="answer-letter">ุฃ</span>
                            <span class="answer-text">ุงูุฒูุฑุฉ</span>
                        </button>
                        <button class="answer-btn" onclick="selectAnswer(this, 1)">
                            <span class="answer-letter">ุจ</span>
                            <span class="answer-text">ุงููุฑูุฎ</span>
                        </button>
                        <button class="answer-btn" onclick="selectAnswer(this, 2)">
                            <span class="answer-letter">ุฌ</span>
                            <span class="answer-text">ุงููุดุชุฑู</span>
                        </button>
                        <button class="answer-btn" onclick="selectAnswer(this, 3)">
                            <span class="answer-letter">ุฏ</span>
                            <span class="answer-text">ุฒุญู</span>
                        </button>
                    </div>
                </div>

                <div class="answer-timer-bar">
                    <div class="timer-progress" id="timer-progress"></div>
                </div>
            </main>
        </div>

        <!-- ุดุงุดุฉ ูุชูุฌุฉ ุงูุฌููุฉ -->
        <div id="round-result-screen" class="screen">
            <header class="game-header">
                <div class="logo">
                    <span class="logo-icon">๐ง</span>
                    <h1>ูุฒุงูุฏุฉ ูุฐูุงุก</h1>
                </div>
            </header>

            <main class="round-result-main">
                <div class="round-result-banner" id="round-result-banner">
                    <h2 id="round-result-title">๐ ุฅุฌุงุจุฉ ุตุญูุญุฉ!</h2>
                    <p id="round-result-desc">ุญุตู ุงููุงุนุจ ุนูู ูกูู ููุทุฉ</p>
                </div>

                <div class="round-stats">
                    <div class="player-round-stat">
                        <img id="result-avatar1" src="https://api.dicebear.com/7.x/avataaars/svg?seed=player1"
                            alt="ุงููุงุนุจ ูก" class="result-player-avatar">
                        <span class="result-player-name" id="result-player1-name">ุงููุงุนุจ ูก</span>
                        <span class="result-player-score" id="result-player1-score">ู</span>
                        <span class="result-points-gained" id="result-player1-gained"></span>
                    </div>
                    <div class="player-round-stat">
                        <img id="result-avatar2" src="https://api.dicebear.com/7.x/avataaars/svg?seed=player2"
                            alt="ุงููุงุนุจ ูข" class="result-player-avatar">
                        <span class="result-player-name" id="result-player2-name">ุงููุงุนุจ ูข</span>
                        <span class="result-player-score" id="result-player2-score">ู</span>
                        <span class="result-points-gained" id="result-player2-gained"></span>
                    </div>
                </div>

                <div class="correct-answer-display" id="correct-answer-display">
                    <span class="correct-label">ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ:</span>
                    <span class="correct-answer" id="correct-answer-text">ุงููุฑูุฎ</span>
                </div>

                <button class="btn-primary btn-next-round" onclick="nextRound()">
                    <span class="material-icons">arrow_back</span>
                    ุงูุฌููุฉ ุงูุชุงููุฉ
                </button>
            </main>
        </div>

        <!-- ุดุงุดุฉ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ -->
        <div id="final-results-screen" class="screen">
            <header class="game-header">
                <div class="logo">
                    <span class="logo-icon">๐ง</span>
                    <h1>ูุฒุงูุฏุฉ ูุฐูุงุก</h1>
                </div>
            </header>

            <main class="final-results-main">
                <div class="winner-announcement" id="winner-announcement">
                    <div class="trophy">๐</div>
                    <h2 id="winner-name">ุงููุงุฆุฒ!</h2>
                    <p id="winner-score">ุจูุฌููุน ูกููู ููุทุฉ</p>
                </div>

                <div class="final-scores">
                    <div class="final-player-card winner" id="final-player1-card">
                        <img id="final-avatar1" src="https://api.dicebear.com/7.x/avataaars/svg?seed=player1"
                            alt="ุงููุงุนุจ ูก" class="final-avatar">
                        <h3 id="final-player1-name">ุงููุงุนุจ ูก</h3>
                        <div class="final-score" id="final-player1-score">ู</div>
                        <div class="final-stats">
                            <span><span class="material-icons">check_circle</span> <span
                                    id="final-player1-correct">ู</span> ุตุญูุญุฉ</span>
                            <span><span class="material-icons">cancel</span> <span id="final-player1-wrong">ู</span>
                                ุฎุงุทุฆุฉ</span>
                        </div>
                    </div>

                    <div class="final-player-card" id="final-player2-card">
                        <img id="final-avatar2" src="https://api.dicebear.com/7.x/avataaars/svg?seed=player2"
                            alt="ุงููุงุนุจ ูข" class="final-avatar">
                        <h3 id="final-player2-name">ุงููุงุนุจ ูข</h3>
                        <div class="final-score" id="final-player2-score">ู</div>
                        <div class="final-stats">
                            <span><span class="material-icons">check_circle</span> <span
                                    id="final-player2-correct">ู</span> ุตุญูุญุฉ</span>
                            <span><span class="material-icons">cancel</span> <span id="final-player2-wrong">ู</span>
                                ุฎุงุทุฆุฉ</span>
                        </div>
                    </div>
                </div>

                <div class="final-actions">
                    <button class="btn-secondary" onclick="goToNameScreen()">
                        <span class="material-icons">group</span>
                        ุชุบููุฑ ุงููุงุนุจูู
                    </button>
                    <button class="btn-primary" onclick="playAgain()">
                        <span class="material-icons">replay</span>
                        ุงูุนุจ ูุฑุฉ ุฃุฎุฑู
                    </button>
                </div>
            </main>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>